{"path":"sem5/OS/pdf/Module-7_Protection_8aada339.pdf","text":"Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Protection 17.2 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition The Protection Problem  A computer system consists of a collection of objects: • Hardware • Software  Each object has a unique name and can be accessed through a well-defined set of operations  Goal - ensure that each object is accessed correctly and only by those processes that are allowed to do so 17.3 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition The Security Problem  System is secure if resources used and accessed as intended under all circumstances • Unachievable  Intruders (crackers) attempt to breach security  Threat is potential security violation  Attack is attempt to breach security  Attack can be accidental or malicious  Easier to protect against accidental than malicious misuse 17.4 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition The Security/Protection Problem  Both protection and security are vital to computer systems. We distinguish between these two concepts in the following way:  Security is a measure of confidence that the integrity of a system and its data will be preserved.  Protection is the set of mechanisms that control the access of processes and users to the resources defined by a computer system. 17.5 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Goals of Protection  A computer system consists of a collection of objects, hardware or software  Each object has a unique name and can be accessed through a well-defined set of operations  Protection problem - ensure that each object is accessed correctly and only by those processes that are allowed to do so 17.6 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Principles of least privilege  Programs, users and systems should be given just enough privileges to perform their tasks  Limits damage if entity has a bug, gets abused  Can be static (during life of system, during life of process)  Or dynamic (changed by process as needed) – domain switching, privilege escalation  “Need to know” a similar concept regarding access to data 17.7 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Principles of Protection  Must consider “grain” aspect • Rough-grained privilege management easier, simpler, but least privilege now done in large chunks  For example, traditional Unix processes either have abilities of the associated user, or of root • Fine-grained management more complex, more overhead, but more protective  Access Control List (ACL) lists,  Role Based Access Control (RBAC)  Domain can be user, process, procedure 17.8 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Domain Structure  Access-right = <object-name, rights-set> • rights-set is a subset of all valid operations that can be performed on the object  Domain = set of access-rights  Domains can overlap 17.9 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Domain Implementation (UNIX)  Domain = user-id  Domain switch accomplished via file system  Each file has associated with it a domain bit (setuid bit)  When file is executed and setuid = on, then user-id is set to owner of the file being executed  When execution completes user-id is reset  Domain switch accomplished via passwords • su command temporarily switches to another user’s domain when other domain’s password provided  Domain switching via commands • sudo command prefix executes specified command in another domain (if original domain has privilege or password given) 17.12 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Access Matrix  View protection as a matrix (access matrix)  Rows represent domains  Columns represent objects  Access(i, j) is the set of operations that a process executing in Domaini can invoke on Objectj 17.13 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Use of Access Matrix  If a process in Domain Di tries to do “op” on object Oj, then “op” must be in the access matrix  User who creates object can define the access column for that object  Example 17.14 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Use of Access Matrix  Can be expanded to dynamic protection • Operations to add, delete access rights • Special access rights:  copy – ability to copy access-rights from Di to Dj (denoted by “*”)  owner – ability to add/remove access-rights  control – Di can modify Dj access rights  switch – switch from domain Di to Dj • Copy and Owner applicable to an object • Control applicable to domain object 17.15 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Access Matrix with Copy Rights  A process executing in Domain D2 can copy the read access to file object F2 to domain D3 17.16 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Access Matrix with owner Rights  A process executing in Domain D2 can create the write access-right to file F2 to domain D2 and D3 17.17 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Access Matrix with Domains as Objects  A process executing in Domain D2 can switch to domain D3 17.18 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Mechanism and Policy  Access matrix provides a scheme to separates mechanism from policy • Mechanism  Operating system provides access-matrix + rules  It ensures that the matrix is only manipulated by authorized agents and that rules are strictly enforced • Policy  User dictates policy – Who can access what object and in what mode 17.19 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Implementation of Access Matrix  Generally, a sparse matrix  Option 1 – Global table • Store ordered triples <domain, object, rights-set> in table • A requested operation M on object Oj within domain Di -> search table for < Di, Oj, Rk >  with M ∈ Rk • But table could be large -> will not fit in main memory • Difficult to group objects (consider an object that all domains can read) 17.20 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Implementation of Access Matrix (Cont.)  Option 2 – Access lists for objects • Each column implemented as an access list for one object • Resulting per-object list consists of ordered pairs <domain, rights-set> defining all domains with non-empty set of access rights for the object • Easily extended to contain default set -> If M ∈ default set, also allow access 17.21 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Implementation: Option 2 (Cont.)  Each column = Access-control list for one object • Defines who can perform what operation Domain 1 = Read, Write Domain 2 = Read Domain 3 = Read  Each Row = Capability List (like a key) • For each domain, what operations allowed on what objects Object F1 – Read Object F4 – Read, Write, Execute Object F5 – Read, Write, Delete, Copy 17.22 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Implementation of Access Matrix (Cont.)  Option 3 – Capability list for domains • Instead of list being object based, list is domain based • Capability list for domain is list of objects together with operations allows on them • Object represented by its name or address, called a capability • Execute operation M on object Oj, process requests operation and specifies capability as parameter  Possession of capability means access is allowed • Capability list associated with domain but never directly accessible by domain  Rather, protected object, maintained by OS and accessed indirectly  Like a “secure pointer”  Idea can be extended up to applications 17.23 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Implementation of Access Matrix (Cont.)  Option 4 – Lock-key • Compromise between access lists and capability lists • Each object has list of unique bit patterns, called locks • Each domain as list of unique bit patterns called keys • Process in a domain can only access object if domain has key that matches one of the locks 17.24 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Revocation of Access Rights  Various options to remove the access right of a domain to an object • Immediate vs. delayed • Selective vs. general • Partial vs. total • Temporary vs. permanent 17.25 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Revocation of Access Rights (Cont.)  Capability List – Scheme required to locate capability in the system before capability can be revoked. Not simple since the capabilities are directly accessible to the users. • Reacquisition – periodic delete, with require and denial if revoked • Back-pointers – set of pointers from each object to all capabilities of that object (Multics) • Indirection – capability points to global table entry which points to object – delete entry from global table, not selective (CAL) • Keys – unique bits associated with capability, generated when capability created  Master key associated with object, key matches master key for access  Revocation – create new master key  Policy decision of who can create and modify keys – object owner or others? 17.26 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Access Control  Protection can be applied to non-file resources  Oracle Solaris 10 provides role- based access control (RBAC) to implement least privilege • Privilege is right to execute system call or use an option within a system call • Can be assigned to processes • Users assigned roles granting access to privileges and programs  Enable role via password to gain its privileges • Similar to access matrix 17.28 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Capability-Based Systems (Cont.)  Cambridge CAP System • Simpler but powerful • Data capability - provides standard read, write, execute of individual storage segments associated with object – implemented in microcode • Software capability -interpretation left to the subsystem, through its protected procedures  Only has access to its own subsystem  Programmers must learn principles and techniques of protection 17.29 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Language-Based Protection  Specification of protection in a programming language allows the high-level description of policies for the allocation and use of resources  Language implementation can provide software for protection enforcement when automatic hardware- supported checking is unavailable  Interpret protection specifications to generate calls on whatever protection system is provided by the hardware and the operating system 17.30 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Protection in Java 2  Protection is handled by the Java Virtual Machine (JVM)  A class is assigned a protection domain when it is loaded by the JVM  The protection domain indicates what operations the class can (and cannot) perform  If a library method is invoked that performs a privileged operation, the stack is inspected to ensure the operation can be performed by the library  Generally, Java’s load-time and run-time checks enforce type safety  Classes effectively encapsulate and protect data and methods from other classes 17.31 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Stack Inspection Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition End of Chapter 17.33 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Comparison of Implementations  Many trade-offs to consider • Global table is simple, but can be large • Access lists correspond to needs of users  Determining set of access rights for domain non- localized so difficult  Every access to an object must be checked – Many objects and access rights -> slow • Capability lists useful for localizing information for a given process  But revocation capabilities can be inefficient • Lock-key effective and flexible, keys can be passed freely from domain to domain, easy revocation 17.34 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Access Matrix with Domains as Objects 17.35 Silberschatz, Galvin and Gagne ©2018Operating System Concepts – 10 th Edition Use of Access Matrix  Can be expanded to dynamic protection • Operations to add, delete access rights • Special access rights:  owner of Oi  copy op from Oi to Oj (denoted by “*”)  control – Di can modify Dj access rights  transfer – switch from domain Di to Dj • Copy and Owner applicable to an object • Control applicable to domain object","libVersion":"0.5.0","langs":""}